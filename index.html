<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Budget Tracker</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="couple-card">
        <div class="card-content">
            <div class="photo-wrapper" onclick="document.getElementById('upload-input').click()">
                <img id="photo-preview" src="https://placehold.co/100x100?text=+" alt="Tap to Add Photo">
            </div>
            <input type="file" id="upload-input" style="display: none;" accept="image/*" onchange="loadPhoto(event)">

            <h2 class="names">Alex & Jordan</h2>
            <p class="subtitle">Wedding Budget Tracker</p>
        </div>
    </div>

    <script>
        // 1. Run immediately when page loads to restore saved data
        window.addEventListener('load', () => {
            const savedPhoto = localStorage.getItem('couplePhoto');
            if (savedPhoto) {
                document.getElementById('photo-preview').src = savedPhoto;
            }
        });

        // 2. Updated function: Reads file as text (Base64) to save it
        function loadPhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const result = e.target.result;
                    // Update image
                    document.getElementById('photo-preview').src = result;
                    // Save to browser memory
                    localStorage.setItem('couplePhoto', result);
                };
                reader.readAsDataURL(file);
            }
        }
    </script>

</body>
</html>